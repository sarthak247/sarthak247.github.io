<!DOCTYPE html>
<html>

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">
<link rel="icon" href=./favicon.png type="image/gif">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
>
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      media="print" onload="this.media='all'" />
<noscript>
  <link
          href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
          rel="stylesheet">
</noscript>


<link rel="stylesheet" href="/css/font.css" media="all">



  


<meta property="og:url" content="http://localhost:1313/blogs/fastapi/">
  <meta property="og:site_name" content="Sarthak Thakur">
  <meta property="og:title" content="Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 1">
  <meta property="og:description" content="FastAPI: Guide to building prototype ML applications quick and easy AF">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blogs">
    <meta property="article:published_time" content="2024-07-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-07-12T00:00:00+00:00">
    <meta property="article:tag" content="Model Deployment">
    <meta property="article:tag" content="REST">
    <meta property="article:tag" content="API">
    <meta property="article:tag" content="FastAPI">


  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 1">
  <meta name="twitter:description" content="FastAPI: Guide to building prototype ML applications quick and easy AF">


<link rel="stylesheet" href="/bootstrap-5/css/bootstrap.min.css" media="all"><link rel="stylesheet" href="/css/header.css" media="all">
<link rel="stylesheet" href="/css/footer.css" media="all">


<link rel="stylesheet" href="/css/theme.css" media="all">

<style>
    :root {
        --text-color: #343a40;
        --text-secondary-color: #6c757d;
        --background-color: #eaedf0;
        --secondary-background-color: #64ffda1a;
        --primary-color: #007bff;
        --secondary-color: #f8f9fa;

         
        --text-color-dark: #e4e6eb;
        --text-secondary-color-dark: #b0b3b8;
        --background-color-dark: #18191a;
        --secondary-background-color-dark: #212529;
        --primary-color-dark: #ffffff;
        --secondary-color-dark: #212529;
    }
    body {
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        text-align: left;
    }

    html {
        background-color: var(--background-color) !important;
    }

    body::-webkit-scrollbar {
        height: 0px;
        width: 8px;
        background-color: var(--background-color);
    }

    ::-webkit-scrollbar-track {
        border-radius: 1rem;
    }

    ::-webkit-scrollbar-thumb {
        border-radius: 1rem;
        background: #b0b0b0;
        outline: 1px solid var(--background-color);
    }

    #search-content::-webkit-scrollbar {
        width: .5em;
        height: .1em;
        background-color: var(--background-color);
    }
</style>



<meta name="description" content="FastAPI: Guide to building prototype ML applications quick and easy AF">
<link rel="stylesheet" href="/css/single.css">


<script defer src="/fontawesome-6/all-6.4.2.js"></script>


  
  

  <title>
Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 1 | Sarthak Thakur

  </title>
</head>

<body class="light">
  
  
<script>
    let localStorageValue = localStorage.getItem("pref-theme");
    let mediaQuery = window.matchMedia('(prefers-color-scheme: dark)').matches;

    switch (localStorageValue) {
        case "dark":
            document.body.classList.add('dark');
            break;
        case "light":
            document.body.classList.remove('dark');
            break;
        default:
            if (mediaQuery) {
                document.body.classList.add('dark');
            }
            break;
    }
</script>




<script>
    var prevScrollPos = window.pageYOffset;
    window.addEventListener("scroll", function showHeaderOnScroll() {
        let profileHeaderElem = document.getElementById("profileHeader");
        let currentScrollPos = window.pageYOffset;
        let resetHeaderStyle = false;
        let showNavBarOnScrollUp =  true ;
        let showNavBar = showNavBarOnScrollUp ? prevScrollPos > currentScrollPos : currentScrollPos > 0;
        if (showNavBar) {
            profileHeaderElem.classList.add("showHeaderOnTop");
        } else {
            resetHeaderStyle = true;
        }
        if(currentScrollPos === 0) {
            resetHeaderStyle = true;
        }
        if(resetHeaderStyle) {
            profileHeaderElem.classList.remove("showHeaderOnTop");
        }
        prevScrollPos = currentScrollPos;
    });
</script>



<header id="profileHeader">
    <nav class="pt-3 navbar navbar-expand-lg animate">
        <div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5">
            
            <a class="navbar-brand primary-font text-wrap" href="/">
                
                <img src="./favicon.png" width="30" height="30"
                    class="d-inline-block align-top">
                Sarthak Thakur
                
            </a>

            
                <div>
                    <input id="search" autocomplete="off" class="form-control mr-sm-2 d-none d-md-block" placeholder='Ctrl &#43; k to Search...'
                        aria-label="Search" oninput="searchOnChange(event)">
                </div>
            

            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true">
                    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
                </svg>
            </button>

            
            <div class="collapse navbar-collapse text-wrap primary-font" id="navbarContent">
                <ul class="navbar-nav ms-auto text-center">
                    
                        <li class="nav-item navbar-text d-block d-md-none">
                            <div class="nav-link">
                                <input id="search" autocomplete="off" class="form-control mr-sm-2" placeholder='Ctrl &#43; k to Search...' aria-label="Search" oninput="searchOnChange(event)">
                            </div>
                        </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#about" aria-label="about">
                            About Me
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#experience"
                            aria-label="experience">
                            Experience
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#education"
                            aria-label="education">
                            Education
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#projects"
                            aria-label="projects">
                            Projects
                        </a>
                    </li>
                    

                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#contact"
                            aria-label="contact">
                            Contact
                        </a>
                    </li>
                    

                    

                    
                    
                    
                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/blogs" title="Blog posts">
                            
                            Blog
                        </a>
                    </li>
                    
                    

                    
                    <li class="nav-item navbar-text">
                        
                        <div class="text-center">
                            <button id="theme-toggle">
                                <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                                </svg>
                                <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="5"></circle>
                                    <line x1="12" y1="1" x2="12" y2="3"></line>
                                    <line x1="12" y1="21" x2="12" y2="23"></line>
                                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                    <line x1="1" y1="12" x2="3" y2="12"></line>
                                    <line x1="21" y1="12" x2="23" y2="12"></line>
                                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                                </svg>
                            </button>
                        </div>
                    </li>
                    

                </ul>

            </div>
        </div>
    </nav>
</header>
<div id="content">
<section id="single">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-12 col-lg-9">
        <div class="pr-lg-4">
          <div class="title mb-5">
            <h1 class="text-center mb-4">Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 1</h1>
            <div class="text-center">
              
              Jul 12, 2024

              
              <span id="readingTime">
                min read
              </span>
              
            </div>
          </div>
          
          <div class="featured-image">
            <img class="img-fluid mx-auto d-block" src="/blogs/fastapi/fastAPI.webp" alt="Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 1">
          </div>
          
          <article class="page-content  p-2">
          <h2 id="introduction-to-fastapi">Introduction to FastAPI</h2>
<p>Today, I delved into FastAPI, a cutting-edge web framework designed for building APIs with Python. It piqued my interest because of its reputation for speed, ease of use, and robust integration with Python&rsquo;s type system and also cause I have been looking for some time for a way to deploy my ML applications easily and with minimalistic code as I&rsquo;m not a web developer and struggle with that part. Upon looking around on the internet, I discovered that people have been using something called <code>FastAPI</code> along with <code>Streamlit</code> for faster model deployment for demonstration purposes and so I decided to have a look at it. Here’s what I discovered about FastAPI and why it&rsquo;s particularly compelling for developing APIs, especially for machine learning tasks.</p>
<h3 id="exploring-fastapi">Exploring FastAPI</h3>
<p>Well, in order to explore about FastAPI, I did what every other sane developer would do. I opened up YouTube and started looking at video tutorials along with looking at its documentation. I got to know that FastAPI uses <code>Starlette</code> for its web components and <code>Pydantic</code> for data validation and serialization, leveraging Python&rsquo;s type hints for seamless integration and enhanced development experience. (YIPPEEE! This also meant less learning for me as I could already use some of the things I knew from Python without the need to learn some completely different framework or language). Thus, I chose to explore it further.</p>
<h3 id="advantages-that-caught-my-attention">Advantages That Caught My Attention</h3>
<ul>
<li><strong>Performance:</strong> FastAPI harnesses asynchronous programming to handle high volumes of concurrent requests efficiently. This capability is crucial for applications that require real-time data processing or predictive model serving. (which could be beneficial for us when we are working with our ML models)</li>
<li><strong>Developer-Friendly:</strong> As someone relatively new to API development, I appreciate FastAPI&rsquo;s simplicity and its ability to automatically generate API documentation based on Python type hints. This feature not only saves time but also improves code readability and maintainability along with the fact that I don&rsquo;t need a lot of time to learn it as it is fairly easy and straight-forward.</li>
<li><strong>Data Validation:</strong> Using Pydantic, FastAPI ensures robust data validation, helping to catch errors early in the development process. This is especially important when handling diverse data inputs in machine learning applications and one of the most important reason I chose FastAPI and think that I will stick with it for future projects too.</li>
<li><strong>Ecosystem Integration:</strong> FastAPI seamlessly integrates with other Python libraries and frameworks, allowing me to extend its functionality with database integration, authentication mechanisms, and more, without complicating the core API logic. For example, I saw a lot of people using <code>SQLAcademy</code> online with FastAPI relatively easily along with other plotting libraries. As someone who works with Python extinsively, this makes my work even more easy and manageable rather than depending on cross-platform libraries for getting the things done.</li>
</ul>
<h3 id="why-fastapi-stands-out-for-machine-learning">Why FastAPI Stands Out For Machine Learning</h3>
<p>FastAPI’s strengths make it particularly suitable for building APIs around machine learning models:</p>
<ul>
<li>
<p><strong>Efficiency:</strong> Its async design enables efficient handling of multiple requests concurrently, which is crucial for high-performance machine learning applications.</p>
</li>
<li>
<p><strong>Data Safety:</strong> With Pydantic’s strong data validation capabilities, FastAPI ensures that the data fed into machine learning models meets expected formats and types, reducing the risk of runtime errors.</p>
</li>
<li>
<p><strong>Scalability:</strong> FastAPI’s performance-oriented architecture and async capabilities support scalability, making it well-suited for applications that may experience increasing traffic or computational demands over time.</p>
</li>
</ul>
<p>In summary, my exploration of FastAPI today has highlighted its potential to streamline API development, particularly for machine learning tasks where speed, data validation, and scalability are paramount. In the following sections, I look forward to diving deeper into implementing CRUD operations and integrating machine learning models effectively using FastAPI along with the code snippets I used for learning it.</p>
<h2 id="seting-up-fastapi">Seting up FastAPI</h2>
<p>After looking around at some YouTube videos and getting a rough idea of what to do, the first thing I did was to try it out for myself.</p>
<h3 id="getting-started-with-fastapi">Getting Started with FastAPI</h3>
<ul>
<li>Setting up FastAPI is surprisingly straightforward. All one needs is Pip to install FastAPI and Unicorn, an ASGI server needed to run FastAPI applications.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install fastapi uvicorn
</span></span></code></pre></div><ul>
<li>One can also install fastapi with all its dependencies like this:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip install fastapi<span style="color:#f92672">[</span>all<span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="creating-first-hello-world-fastapi-project">Creating First Hello World FastAPI Project</h3>
<p>With FastAPI installed, I created a new directory for my project and created a sample <code>main.py</code> file in it. This could be anything and I&rsquo;m just naming it <code>main.py</code> for ease.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> fastapi <span style="color:#f92672">import</span> FastAPI
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> FastAPI()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.get</span>(<span style="color:#e6db74">&#39;/&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">base</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Hello World!&#39;</span>
</span></span></code></pre></div><p>That&rsquo;s it. That&rsquo;s all it takes to run a simple FastAPI endpoint which could handle HTTP GET requests. I&rsquo;ll break it down for easier understanding:</p>
<ul>
<li>Import FastAPI and initalize an instance with it. I used <code>app</code> but one can use anything of their choice.</li>
<li>Focus on <code>@app.get('/')</code>. This decorator tells Python to define a route for handling GET requests to the root URL <code>\</code> of my API. Here, <code>get</code> means that it is a <code>GET</code> request. In the brackets, we supply the url as well, in this case, it being <code>/</code> or the root. Thus, our API will look something like <code>localhost:8008/</code></li>
<li>After telling Python about the type of request (get in this case), I also made a function which is executed when a GET request is made to <code>/</code>. It returns a simple <code>Hello World</code> respone. Again, one can name the function anything rather than using <code>base</code></li>
</ul>
<h3 id="running-my-fastapi-application">Running My FastAPI Application</h3>
<p>To run the app locally, I used <code>Uvicorn</code> (which we installed earlier along with FastAPI). It is used to serve FastAPI applications.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>uvicorn main:app --reload
</span></span></code></pre></div><ul>
<li>Here, <code>main</code> is the name of the module (Python file), whereas <code>app</code> is the name of the instance of FastAPI which we initialized in the file and will be using all throughout.</li>
<li><code>--reload</code> simply means to enable automatic reloading of the server when changes are made to the code.</li>
</ul>
<p><img src="uvicorn.png" alt="Uvicorn"></p>
<p>After running this, FastAPI started on <code>http://localhost:8000</code> by default. Navigating to this URL in my web browser displayed the JSON response: <code>{&quot;Hello&quot;: &quot;World&quot;}</code>, confirming that my FastAPI application was up and running successfully.</p>
<p><img src="hello-world.png" alt="Hello World"></p>
<h3 id="fastapis-interactive-documentation">FastAPI&rsquo;s Interactive Documentation</h3>
<p>One of the standout features of FastAPI is its automatic API documentation generation as it comes equipped with something known as <code>Swagger</code>. By navigating to <code>http://localhost:8000/docs</code> in my browser, I accessed the interactive Swagger UI documentation. This interface not only described my API endpoints but also allowed me to interact with them directly, testing different requests and seeing the responses in real-time.</p>
<p><img src="swagger.png" alt="Swagger UI"></p>
<h2 id="exploring-more-endpoints-with-fastapi">Exploring More Endpoints With FastAPI</h2>
<p>After implementing a very simple and straightforward endpoint to test FastAPI&rsquo;s capabilities and lay the groundwork for more complex functionality, I started experimenting with other endpoints like POST, etc as well.</p>
<h3 id="add-parameter-to-endpoints">Add Parameter to Endpoints</h3>
<p>FastAPI makes it easy to handle parameters in API endpoints. For instance, I can modify the <code>base()</code> function to accept a <code>name</code> parameter and include it in the response:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@app.get</span>(<span style="color:#e6db74">&#39;/&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">base</span>(name: str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;World&#34;</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Hello </span><span style="color:#e6db74">{</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><p>In this updated version:</p>
<ul>
<li>The <code>name</code> parameter is specified as a query parameter (?name=&hellip;) with a default value of &ldquo;World&rdquo;. Also note that it only accepts <code>str</code> and giving it anything else, like an int, for example will throw up an error (exactly what we talked about earlier as how FastAPI handles data validation seemlessly and without any complicated stuff)</li>
<li>Now, when accessing http://localhost:8000/?name=John, the response will be <code>&quot;Hello John&quot;</code>.</li>
<li>This can further be extended with different functionalities but this is just a simple example on how to enforce data type validation and accepting parameters in our FastAPI GET requests.</li>
</ul>
<h3 id="handling-post-requests">Handling POST Requests</h3>
<p>To handle HTTP POST requests and accept data, I defined a new endpoint using the <code>@app.post()</code> decorator. This is a simple example from FastAPI&rsquo;s amazing documentation itself.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pydantic <span style="color:#f92672">import</span> BaseModel
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Item</span>(BaseModel):
</span></span><span style="display:flex;"><span>    name : str
</span></span><span style="display:flex;"><span>    descritpion: str <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>    price: float
</span></span><span style="display:flex;"><span>    tax: float <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.post</span>(<span style="color:#e6db74">&#39;/items/&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_item</span>(item: Item):
</span></span><span style="display:flex;"><span>    item_dict <span style="color:#f92672">=</span> item<span style="color:#f92672">.</span>dict()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> item<span style="color:#f92672">.</span>tax:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;Price with tax: </span><span style="color:#e6db74">{</span>item<span style="color:#f92672">.</span>price<span style="color:#e6db74">}</span><span style="color:#e6db74"> + </span><span style="color:#e6db74">{</span>item<span style="color:#f92672">.</span>tax<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><ul>
<li>Here, Item is a <code>Pydantic</code> model that defines the structure of the data expected in the POST request body. It also helps keeping a check on the type of data which interacts with the API like enforcing data types (eg, <code>str</code> for name and descritpion, <code>float</code> for price and tax). Also, note how tax and description are not required arguments and have a default value of <code>None</code> just in case nothing is supplied for that.</li>
<li>The <code>create_item()</code> function takes an <code>item</code> parameter of <code>type Item</code> and returns a dictionary representation of the item, returning the <code>price_with_tax</code> if tax is provided.</li>
</ul>
<h3 id="testing-the-endpoint">Testing the Endpoint</h3>
<p>To test the newly created POST endpoint, one can use tools like <code>Swagger</code> or <code>Postman</code>. I preferred to use <code>curl</code> as this is a very simple endpoint.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST <span style="color:#e6db74">&#34;http://localhost:8000/items/&#34;</span> -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> -d <span style="color:#e6db74">&#39;{&#34;name&#34;: &#34;Example Item&#34;, &#34;description&#34;: &#34;An example item&#34;, &#34;price&#34;: 50.0}&#39;</span>
</span></span></code></pre></div><ul>
<li>This sends a POST request to <code>http://localhost:8000/items/</code> with JSON data representing an item.</li>
</ul>
<p><img src="item.png" alt="Items"></p>
<h2 id="crud-operations-with-fastapi">CRUD Operations with FastAPI</h2>
<p>After exploring some simple get and post requests, I went on to leverage FastAPI&rsquo;s capabilities to create endpoints for managing data, laying the groundwork for building robust APIs for ML applications later.</p>
<h3 id="creating-data-models">Creating Data Models</h3>
<p>To begin, I defined Pydantic models to represent the data structure that my API endpoints will handle. Here’s an example of defining a <code>User</code> model:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pydantic <span style="color:#f92672">import</span> BaseModel
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(BaseModel):
</span></span><span style="display:flex;"><span>    id : int
</span></span><span style="display:flex;"><span>    username : str
</span></span><span style="display:flex;"><span>    email : str
</span></span><span style="display:flex;"><span>    full_name : str
</span></span></code></pre></div><ul>
<li>The <code>User</code> model specifies fields such as <code>id</code>, <code>username</code>, <code>email</code> and <code>full name</code>, ensuring type safety and data validation.</li>
</ul>
<h3 id="implementing-crud-endpoints">Implementing CRUD endpoints</h3>
<p>Using FastAPI&rsquo;s decorators <code>(@app.get, @app.post, @app.put, @app.delete)</code>, I implemented CRUD endpoints to perform operations on <code>User</code> data:</p>
<ul>
<li><strong>Create (POST):</strong> Adding a new user to the database</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>users <span style="color:#f92672">=</span> [] <span style="color:#75715e"># for a simple demonstration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.post</span>(<span style="color:#e6db74">&#39;/users/&#39;</span>, response_model<span style="color:#f92672">=</span>User)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_user</span>(user: User):
</span></span><span style="display:flex;"><span>    users<span style="color:#f92672">.</span>append(user)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> user
</span></span></code></pre></div><ul>
<li><strong>Read (GET):</strong> Retreiving a list of all users or a specific user by ID.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@app.get</span>(<span style="color:#e6db74">&#39;/users/&#39;</span>, response_model <span style="color:#f92672">=</span> List[User])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_users</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> users
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.get</span>(<span style="color:#e6db74">&#39;/users/</span><span style="color:#e6db74">{user_id}</span><span style="color:#e6db74">&#39;</span>, response_model <span style="color:#f92672">=</span> User)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_user</span>(user_id : int):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> user <span style="color:#f92672">in</span> users:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>id <span style="color:#f92672">==</span> user_id:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> user
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> HTTPException(status_code<span style="color:#f92672">=</span><span style="color:#ae81ff">404</span>, detail <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;User not found&#34;</span>)
</span></span></code></pre></div><ul>
<li><strong>Update (PUT):</strong> Updating an existing user&rsquo;s information</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@app.put</span>(<span style="color:#e6db74">&#39;/users/</span><span style="color:#e6db74">{user_id}</span><span style="color:#e6db74">&#39;</span>, response_model <span style="color:#f92672">=</span> User)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">update_user</span>(user_id : int, updated_user : User):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> user <span style="color:#f92672">in</span> users:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>id <span style="color:#f92672">==</span> user_id:
</span></span><span style="display:flex;"><span>            user<span style="color:#f92672">.</span>username <span style="color:#f92672">=</span> updated_user<span style="color:#f92672">.</span>username
</span></span><span style="display:flex;"><span>            user<span style="color:#f92672">.</span>email <span style="color:#f92672">=</span> updated_user<span style="color:#f92672">.</span>email
</span></span><span style="display:flex;"><span>            user<span style="color:#f92672">.</span>full_name <span style="color:#f92672">=</span> updated_user<span style="color:#f92672">.</span>full_name
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> user
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> HTTPException(status_code <span style="color:#f92672">=</span> <span style="color:#ae81ff">404</span>, detail <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;User not found&#34;</span>)
</span></span></code></pre></div><ul>
<li><strong>Delete (DELETE):</strong> Deleting a user from the database</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@app.delete</span>(<span style="color:#e6db74">&#39;/users/</span><span style="color:#e6db74">{user_id}</span><span style="color:#e6db74">&#39;</span>, response_model <span style="color:#f92672">=</span> User)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">delete_user</span>(user_id : int):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> index, user <span style="color:#f92672">in</span> enumerate(users):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> user<span style="color:#f92672">.</span>id <span style="color:#f92672">==</span> user_id:
</span></span><span style="display:flex;"><span>            deleted_user <span style="color:#f92672">=</span> users<span style="color:#f92672">.</span>pop(index)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> deleted_user
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> HTTPException(status_code <span style="color:#f92672">=</span> <span style="color:#ae81ff">404</span>, detail <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;User not found&#39;</span>)
</span></span></code></pre></div><h3 id="testing-crud-operations">Testing CRUD Operations</h3>
<p>To test the CRUD operations, I used <code>curl</code> as before:</p>
<ul>
<li><strong>Create (POST):</strong> Send a POST request with JSON data representing a new user.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST <span style="color:#e6db74">&#34;http://localhost:8000/users/&#34;</span> -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> -d <span style="color:#e6db74">&#39;{&#34;id&#34;: 1, &#34;username&#34;: &#34;john_doe&#34;, &#34;email&#34;: &#34;john.doe@example.com&#34;, &#34;full_name&#34;: &#34;John Doe&#34;}&#39;</span>
</span></span></code></pre></div><ul>
<li><strong>Read (GET):</strong> Retrieve all users or a specific user by ID.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X GET <span style="color:#e6db74">&#34;http://localhost:8000/users/&#34;</span>
</span></span><span style="display:flex;"><span>curl -X GET <span style="color:#e6db74">&#34;http://localhost:8000/users/1&#34;</span>
</span></span></code></pre></div><ul>
<li><strong>Update (PUT):</strong> Send a PUT request to update an existing user.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X PUT <span style="color:#e6db74">&#34;http://localhost:8000/users/1&#34;</span> -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> -d <span style="color:#e6db74">&#39;{&#34;id&#34;: 1, &#34;username&#34;: &#34;johndoe&#34;, &#34;email&#34;: &#34;johndoe@example.com&#34;, &#34;full_name&#34;: &#34;John Doe&#34;}&#39;</span>
</span></span></code></pre></div><ul>
<li><strong>Delete (DELETE):</strong> Send a DELETE request to remove a user by ID</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X DELETE <span style="color:#e6db74">&#34;http://localhost:8000/users/1&#34;</span>
</span></span></code></pre></div><h2 id="integration-with-machine-learning-models">Integration with Machine Learning Models</h2>
<p>Uptil this point, I was just messing around and getting my hands dirty with FastAPI and how to use it. Now, equipped with the knowledge of how to create atleast basic endpoints, I decided to give it a try with a pretrained model from PyTorch Zoo and implemented endpoints to make predictions using that.</p>
<h3 id="loading-a-pre-trained-machine-learning-model">Loading a Pre-trained Machine Learning Model</h3>
<p>First, I loaded a pre-trained <code>ResNet50</code> model from PyTorch zoo into my FastAPI app.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> torchvision <span style="color:#f92672">import</span> models, transforms
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> io <span style="color:#f92672">import</span> BytesIO
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> requests
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load pretrained model</span>
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>resnet50(weights<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ResNet50_Weights.DEFAULT&#34;</span>)
</span></span><span style="display:flex;"><span>model<span style="color:#f92672">.</span>eval()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Define image transforms</span>
</span></span><span style="display:flex;"><span>transforms <span style="color:#f92672">=</span> transforms<span style="color:#f92672">.</span>Compose([
</span></span><span style="display:flex;"><span>    transforms<span style="color:#f92672">.</span>Resize((<span style="color:#ae81ff">224</span>, <span style="color:#ae81ff">224</span>)),
</span></span><span style="display:flex;"><span>    transforms<span style="color:#f92672">.</span>ToTensor(),
</span></span><span style="display:flex;"><span>    transforms<span style="color:#f92672">.</span>Normalize(mean <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.485</span>, <span style="color:#ae81ff">0.456</span>, <span style="color:#ae81ff">0.406</span>], std <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.229</span>, <span style="color:#ae81ff">0.224</span>, <span style="color:#ae81ff">0.225</span>])
</span></span><span style="display:flex;"><span>])
</span></span></code></pre></div><h3 id="creating-prediction-endpoints">Creating Prediction Endpoints</h3>
<p>Next, I defined an endpoint in FastAPI <code>('/predict/')</code> to handle image classification predictions using the loaded ResNet50 model.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> fastapi <span style="color:#f92672">import</span> FastAPI, File, UploadFile
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> FastAPI()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.post</span>(<span style="color:#e6db74">&#39;/predict&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">predict_image</span>(file: UploadFile <span style="color:#f92672">=</span> File(<span style="color:#f92672">...</span>)):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Process the uploaded file</span>
</span></span><span style="display:flex;"><span>    img <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(BytesIO(file<span style="color:#f92672">.</span>file<span style="color:#f92672">.</span>read()))
</span></span><span style="display:flex;"><span>    img <span style="color:#f92672">=</span> transforms(img) <span style="color:#75715e"># apply transforms</span>
</span></span><span style="display:flex;"><span>    img <span style="color:#f92672">=</span> img<span style="color:#f92672">.</span>unsqueeze(<span style="color:#ae81ff">0</span>) <span style="color:#75715e"># add batch dimension</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Make predictions</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> torch<span style="color:#f92672">.</span>no_grad():
</span></span><span style="display:flex;"><span>        outputs <span style="color:#f92672">=</span> model(img)
</span></span><span style="display:flex;"><span>        _, predicted <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>max(outputs, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        predicted_class <span style="color:#f92672">=</span> predicted<span style="color:#f92672">.</span>item()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#39;predicted_class&#39;</span> : predicted_class}
</span></span></code></pre></div><ul>
<li><strong>Explanation:</strong> In this example, <code>predict_image()</code> accepts an uploaded image file <code>(file: UploadFile)</code>, processes it using the defined transformation <code>(transform)</code>, and then feeds it into the <code>ResNet50 model (model)</code>. After making a prediction, it returns the predicted class index <code>(predicted_class)</code>.</li>
</ul>
<h3 id="testing-the-prediction-endpoint">Testing the Prediction Endpoint</h3>
<p>To test the prediction endpoint, use the provided image file <code>(cat.jpg)</code> in <a href="#appendix">Appendix</a> or any other image file you prefer. Here’s how you might test it using <code>Swagger</code>:</p>
<p><img src="prediction.png" alt="Prediction"></p>
<p>Note that the endpoint returns a predicted class of <code>281</code>. One can map the predicted indexes to the actual labels, but I did not feel like doing so here. On a closer look at the actual index to label dictionary used for <code>ImageNet</code> from <a href="https://gist.github.com/yrevar/942d3a0ac09ec9e5eb3a">here</a>, we find that 281 index indeed represents <code>Tabby Cat</code> which is what we wanted.</p>
<h2 id="conclusion">Conclusion</h2>
<p>To summarize, I started out with trying to learn FastAPI so that I could deploy my ML models fairly easily and this is exactly what I did - from making simple endpoints to being able to make CRUD operations with them and then finally deploying an ML model with them. Now with that said, I did have other things to mention as well but I feel it would make this blog very long and inconvenient to follow along and thus I will be adding the rest of the stuff in Part 2 which could be accessed from <a href="../fastapi2">here</a></p>
<h2 id="appendix">Appendix</h2>
<ul>
<li><a href="main.py">Code for this blog</a></li>
<li><a href="cat.jpg">Cat Image Used for Model Testing</a></li>
</ul>
<blockquote>
<p>Photo by <a href="https://datascientest.com/en/fastapi-everything-you-need-to-know-about-the-most-widely-used-python-web-framework-for-machine-learning">Data Scientist</a></p>
</blockquote>

          </article>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-3">
        <div id="stickySideBar" class="sticky-sidebar">
          
          <aside class="toc">
              <h5>
                Table Of Contents
              </h5>
              <div class="toc-content">
                <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction-to-fastapi">Introduction to FastAPI</a>
      <ul>
        <li><a href="#exploring-fastapi">Exploring FastAPI</a></li>
        <li><a href="#advantages-that-caught-my-attention">Advantages That Caught My Attention</a></li>
        <li><a href="#why-fastapi-stands-out-for-machine-learning">Why FastAPI Stands Out For Machine Learning</a></li>
      </ul>
    </li>
    <li><a href="#seting-up-fastapi">Seting up FastAPI</a>
      <ul>
        <li><a href="#getting-started-with-fastapi">Getting Started with FastAPI</a></li>
        <li><a href="#creating-first-hello-world-fastapi-project">Creating First Hello World FastAPI Project</a></li>
        <li><a href="#running-my-fastapi-application">Running My FastAPI Application</a></li>
        <li><a href="#fastapis-interactive-documentation">FastAPI&rsquo;s Interactive Documentation</a></li>
      </ul>
    </li>
    <li><a href="#exploring-more-endpoints-with-fastapi">Exploring More Endpoints With FastAPI</a>
      <ul>
        <li><a href="#add-parameter-to-endpoints">Add Parameter to Endpoints</a></li>
        <li><a href="#handling-post-requests">Handling POST Requests</a></li>
        <li><a href="#testing-the-endpoint">Testing the Endpoint</a></li>
      </ul>
    </li>
    <li><a href="#crud-operations-with-fastapi">CRUD Operations with FastAPI</a>
      <ul>
        <li><a href="#creating-data-models">Creating Data Models</a></li>
        <li><a href="#implementing-crud-endpoints">Implementing CRUD endpoints</a></li>
        <li><a href="#testing-crud-operations">Testing CRUD Operations</a></li>
      </ul>
    </li>
    <li><a href="#integration-with-machine-learning-models">Integration with Machine Learning Models</a>
      <ul>
        <li><a href="#loading-a-pre-trained-machine-learning-model">Loading a Pre-trained Machine Learning Model</a></li>
        <li><a href="#creating-prediction-endpoints">Creating Prediction Endpoints</a></li>
        <li><a href="#testing-the-prediction-endpoint">Testing the Prediction Endpoint</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
    <li><a href="#appendix">Appendix</a></li>
  </ul>
</nav>
              </div>
          </aside>
          

          
          <aside class="tags">
            <h5>Tags</h5>
            <ul class="tags-ul list-unstyled list-inline">
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/model-deployment"
                target="_blank"
              >Model Deployment</a></li>
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/rest"
                target="_blank"
              >REST</a></li>
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/api"
                target="_blank"
              >API</a></li>
              
              <li class="list-inline-item"><a href="http://localhost:1313/tags/fastapi"
                target="_blank"
              >FastAPI</a></li>
              
            </ul>
          </aside>
          

          
          <aside class="social">
            <h5>Social</h5>
            <div class="social-content">
              <ul class="list-inline">
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2flocalhost%3a1313%2fblogs%2ffastapi%2f">
                    <i class="fab fa-linkedin"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://twitter.com/share?text=Building%20Efficient%20ML%20APIs%20with%20FastAPI%3a%20A%20Comprehensive%20Guide%20-%20Part%201&url=http%3a%2f%2flocalhost%3a1313%2fblogs%2ffastapi%2f">
                    <i class="fab fa-twitter"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://api.whatsapp.com/send?text=Building%20Efficient%20ML%20APIs%20with%20FastAPI%3a%20A%20Comprehensive%20Guide%20-%20Part%201: http%3a%2f%2flocalhost%3a1313%2fblogs%2ffastapi%2f">
                    <i class="fab fa-whatsapp"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href='mailto:?subject=Building%20Efficient%20ML%20APIs%20with%20FastAPI%3a%20A%20Comprehensive%20Guide%20-%20Part%201&amp;body=Check%20out%20this%20site http%3a%2f%2flocalhost%3a1313%2fblogs%2ffastapi%2f'>
                    <i class="fa fa-envelope"></i>
                  </a>
                </li>
              </ul>
            </div>
          </aside>
          
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-9 p-4">
        
      </div>
    </div>
  </div>
  <button class="p-2 px-3" onclick="topFunction()" id="topScroll">
    <i class="fas fa-angle-up"></i>
  </button>
</section>


<div class="progress">
  <div id="scroll-progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<Script src="/js/scrollProgressBar.js"></script>


<script>
  var topScroll = document.getElementById("topScroll");
  window.onscroll = function() {scrollFunction()};

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      topScroll.style.display = "block";
    } else {
      topScroll.style.display = "none";
    }
  }

  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }

  
  let stickySideBarElem = document.getElementById("stickySideBar");
  let stickyNavBar =  true ;
  if(stickyNavBar) {
    let headerElem = document.getElementById("profileHeader");
    let headerHeight = headerElem.offsetHeight + 15;
    stickySideBarElem.style.top = headerHeight + "px";
  } else {
    stickySideBarElem.style.top = "50px";
  }
</script>


<script src="/js/readingTime.js"></script>



  </div><footer>
    
 
 
<div class="container py-3" id="recent-posts">
    
    
    <div class="h3 text-center text-secondary py-3">
        Recent Posts
    </div>
    <div class="row justify-content-center">
        
        <div class="col-lg-4 col-md-6 pt-2">
            <div class="card h-100">
                
                <div class="card-header">
                    <a href="/blogs/fastapi2/">
                        <img src="/blogs/fastapi/fastAPI.webp" class="card-img-top" alt="Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 2">
                    </a>
                </div>
                
                <div class="card-body bg-transparent p-3 shadow-sm">
                    <a href="/blogs/fastapi2/" class="primary-font card-title">
                        <h5 class="card-title bg-transparent" title="Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 2">Building Efficient ML …</h5>
                    </a>
                    <div class="card-text secondary-font">
                        <p>In the previous blog, I mentioned how I was able to make simple endpoints with FastAPI and how I was even able to use it to deploy a pretrained ML model. Moving forward, I will be discussing about how to make our FastAPI application more robust and efficient with some commonly used practices I found …</p>
                    </div>
                </div>
                <div class="mt-auto card-footer">
                    <span class="float-start">Jul 13, 2024</span>
                    <a href="/blogs/fastapi2/" class="float-end btn btn-outline-info btn-sm">Read</a>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6 pt-2">
            <div class="card h-100">
                
                <div class="card-header">
                    <a href="/blogs/fastapi/">
                        <img src="/blogs/fastapi/fastAPI.webp" class="card-img-top" alt="Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 1">
                    </a>
                </div>
                
                <div class="card-body bg-transparent p-3 shadow-sm">
                    <a href="/blogs/fastapi/" class="primary-font card-title">
                        <h5 class="card-title bg-transparent" title="Building Efficient ML APIs with FastAPI: A Comprehensive Guide - Part 1">Building Efficient ML …</h5>
                    </a>
                    <div class="card-text secondary-font">
                        <p>Introduction to FastAPI Today, I delved into FastAPI, a cutting-edge web framework designed for building APIs with Python. It piqued my interest because of its reputation for speed, ease of use, and robust integration with Python&rsquo;s type system and also cause I have been looking for some time …</p>
                    </div>
                </div>
                <div class="mt-auto card-footer">
                    <span class="float-start">Jul 12, 2024</span>
                    <a href="/blogs/fastapi/" class="float-end btn btn-outline-info btn-sm">Read</a>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6 pt-2">
            <div class="card h-100">
                
                <div class="card-header">
                    <a href="/blogs/attention-is-all-you-need/">
                        <img src="/projects/attention.png" class="card-img-top" alt="Attention Is All You Need - From where it all started">
                    </a>
                </div>
                
                <div class="card-body bg-transparent p-3 shadow-sm">
                    <a href="/blogs/attention-is-all-you-need/" class="primary-font card-title">
                        <h5 class="card-title bg-transparent" title="Attention Is All You Need - From where it all started">Attention Is All You Need …</h5>
                    </a>
                    <div class="card-text secondary-font">
                        <p>Introduction In the current landscape of Generative Artificial Intelligence (GenAI), new architectures and methodologies emerge with remarkable frequency. According to recent statistics from arXiv, the volume of papers tagged under LLM averages nine submissions daily. To comprehend these …</p>
                    </div>
                </div>
                <div class="mt-auto card-footer">
                    <span class="float-start">Jul 3, 2024</span>
                    <a href="/blogs/attention-is-all-you-need/" class="float-end btn btn-outline-info btn-sm">Read</a>
                </div>
            </div>
        </div>
        
    </div>
</div>

<div class="text-center pt-2">
    
    <span class="px-1">
        <a href="https://github.com/sarthak247" aria-label="github">
            <svg xmlns="http://www.w3.org/2000/svg" width="2.7em" height="2.7em" viewBox="0 0 1792 1792">
                <path
                    d="M522 1352q-8 9-20-3-13-11-4-19 8-9 20 3 12 11 4 19zm-42-61q9 12 0 19-8 6-17-7t0-18q9-7 17 6zm-61-60q-5 7-13 2-10-5-7-12 3-5 13-2 10 5 7 12zm31 34q-6 7-16-3-9-11-2-16 6-6 16 3 9 11 2 16zm129 112q-4 12-19 6-17-4-13-15t19-7q16 5 13 16zm63 5q0 11-16 11-17 2-17-11 0-11 16-11 17-2 17 11zm58-10q2 10-14 14t-18-8 14-15q16-2 18 9zm964-956v960q0 119-84.5 203.5t-203.5 84.5h-224q-16 0-24.5-1t-19.5-5-16-14.5-5-27.5v-239q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-86-13.5q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 103t.5 68q0 22-11 33.5t-22 13-33 1.5h-224q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z" />

                <metadata>
                    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                        xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:dc="http://purl.org/dc/elements/1.1/">
                        <rdf:Description about="https://iconscout.com/legal#licenses"
                            dc:title="Github, Online, Project, Hosting, Square"
                            dc:description="Github, Online, Project, Hosting, Square" dc:publisher="Iconscout"
                            dc:date="2016-12-14" dc:format="image/svg+xml" dc:language="en">
                            <dc:creator>
                                <rdf:Bag>
                                    <rdf:li>Font Awesome</rdf:li>
                                </rdf:Bag>
                            </dc:creator>
                        </rdf:Description>
                    </rdf:RDF>
                </metadata>
            </svg>
        </a>
    </span>
    

    
    <span class="px-1">
        <a href="https://linkedin.com/in/sarthak247/" aria-label="linkedin">
            <svg xmlns="http://www.w3.org/2000/svg" width='2.4em' height='2.4em' fill="#fff" aria-label="LinkedIn"
                viewBox="0 0 512 512">
                <rect width="512" height="512" fill="#0077b5" rx="15%" />
                <circle cx="142" cy="138" r="37" />
                <path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198" />
                <path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32" />
            </svg>
        </a>
    </span>
    

    
    <a href="https://x.com/sarthak2407" aria-label="twitter">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px" height="48px">
            <path fill="#03a9f4"
                d="M42,37c0,2.762-2.239,5-5,5H11c-2.762,0-5-2.238-5-5V11c0-2.762,2.238-5,5-5h26c2.761,0,5,2.238,5,5 V37z" />
            <path fill="#fff"
                d="M36,17.12c-0.882,0.391-1.999,0.758-3,0.88c1.018-0.604,2.633-1.862,3-3 c-0.951,0.559-2.671,1.156-3.793,1.372C31.311,15.422,30.033,15,28.617,15C25.897,15,24,17.305,24,20v2c-4,0-7.9-3.047-10.327-6 c-0.427,0.721-0.667,1.565-0.667,2.457c0,1.819,1.671,3.665,2.994,4.543c-0.807-0.025-2.335-0.641-3-1c0,0.016,0,0.036,0,0.057 c0,2.367,1.661,3.974,3.912,4.422C16.501,26.592,16,27,14.072,27c0.626,1.935,3.773,2.958,5.928,3c-1.686,1.307-4.692,2-7,2 c-0.399,0-0.615,0.022-1-0.023C14.178,33.357,17.22,34,20,34c9.057,0,14-6.918,14-13.37c0-0.212-0.007-0.922-0.018-1.13 C34.95,18.818,35.342,18.104,36,17.12" />
        </svg>
    </a>
    

    

    
</div><div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-4 text-center">
            
                <div class="pb-2">
                    <a href="http://localhost:1313/" title="Sarthak Thakur">
                        <img alt="Footer logo" src="./favicon.png"
                            height="40px" width="40px">
                    </a>
                </div>
            
            &copy; 2024  All rights reserved
            <div class="text-secondary">
                Made with
                <span class="text-danger">
                    &#10084;
                </span>
                and
                <a href="https://github.com/gurusabarish/hugo-profile" target="_blank"
                    title="Designed and developed by gurusabarish">
                    Hugo Profile
                </a>
            </div>
        </div>
    </div>
</div>
</footer><script src="/bootstrap-5/js/bootstrap.bundle.min.js"></script>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

</script>


    <script src="/js/search.js"></script>





<!-- MathJax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js" integrity="sha384-M5jmNxKC9EVnuqeMwRHvFuYUE8Hhp0TgBruj/GZRkYtiMrCRgH7yvv5KY+Owi7TW" crossorigin="anonymous"></script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['\\(','\\)']],
        displayMath: [['$$','$$'], ['\[','\]']],
        processEscapes: true,
        processEnvironments: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
        TeX: { equationNumbers: { autoNumber: "AMS" },
             extensions: ["AMSmath.js", "AMSsymbols.js"] }
      }
    });
</script>








  <section id="search-content" class="py-2">
    <div class="container" id="search-results"></div>
  </section>
</body>

</html>
